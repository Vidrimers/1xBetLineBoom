<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1xBetLineBoom</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css"
    />
  </head>
  <body>
    <div class="container not-logged-in">
      <header>
        <a
          id="headerLogoLink"
          href="https://docs.google.com/spreadsheets/d/12I2I6PgqV4DDFDVfdrFwziWXAjJl6YFL3Af6F18IEpk/edit?gid=927096809#gid=927096809"
          target="_blank"
          style="display: none; cursor: pointer"
        >
          <img src="img/logo_anim.webp" alt="logo" id="headerLogo" />
        </a>
        <img
          src="img/logo_anim.webp"
          alt="logo"
          id="headerLogoDefault"
          style="cursor: pointer"
        />
        <h1>1xBetLineBoom</h1>
      </header>

      <!-- –†–∞–∑–¥–µ–ª –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div class="user-section">
        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs content">
          <button class="tab-btn active" onclick="switchTab('allbets')">
            üí∞ –°—Ç–∞–≤–∫–∏
          </button>
          <button class="tab-btn" onclick="switchTab('participants')">
            üë• –¢–∞–±–ª–∏—Ü–∞
          </button>
          <button class="tab-btn" onclick="switchTab('profile')">
            üë§ –ü—Ä–æ—Ñ–∏–ª—å
          </button>
          <button class="tab-btn" onclick="switchTab('settings')">
            ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
          </button>
        </div>
        <div class="user-input">
          <input
            type="text"
            id="username"
            placeholder="–õ–æ–≥–∏–Ω"
            onkeypress="if(event.key === 'Enter') initUser()"
          />
          <button id="authBtn" onclick="initUser()">–í–æ–π—Ç–∏</button>
          <button
            id="countingBtn"
            onclick="switchTab('counting')"
            style="
              display: none;
              background: rgba(58, 123, 213, 0.7);
              border: 1px solid #3a7bd5;
              color: #e0e6f0;
            "
          >
            üìä –ü–æ–¥—Å—á–µ—Ç
          </button>
        </div>
        <p
          id="userStatus"
          style="
            margin-top: 10px;
            color: #b0b8c8;
            text-align: center;
            display: none;
          "
        >
          –í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <strong id="usernameBold"></strong>
        </p>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –°—Ç–∞–≤–∫–∏ (–¥–≤—É—Ö–∫–æ–ª–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞) -->
      <div class="content" id="allbets-content" style="margin-top: -5px">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –¢—É—Ä–Ω–∏—Ä—ã –∏ –º–∞—Ç—á–∏ -->
        <div>
          <!-- –¢—É—Ä–Ω–∏—Ä—ã -->
          <div class="section bet-section">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 10px;

                position: sticky;
                /* background: rgba(40, 44, 54, 0.85); */
                background: rgba(40, 44, 54, 1);
                z-index: 2;
                top: 0;
                left: 0;
                padding-top: 10px;
              "
            >
              <h2 style="margin: 0; padding-bottom: 10px">üìÖ –¢—É—Ä–Ω–∏—Ä—ã</h2>
              <button
                id="adminBtn"
                onclick="openCreateEventModal()"
                style="
                  display: none;
                  padding: 3px 7px;
                  font-size: 0.9em;
                  background: transparent;
                "
              >
                ‚ûï –¢—É—Ä–Ω–∏—Ä
              </button>
            </div>
            <div class="events-list" id="eventsList">
              <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç—É—Ä–Ω–∏—Ä—ã...</div>
            </div>
          </div>

          <!-- –ú–∞—Ç—á–∏ -->
          <div class="section bet-section" style="margin-top: 10px">
            <!-- –î–∏–≤ —Å –º–∞—Ç—á–∞–º–∏ –º–Ω–µ –ø–æ–≤–µ–∑–µ—Ç –∏ –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ç—á -->
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 10px;

                position: sticky;
                /* background: rgba(40, 44, 54, 0.85); */
                background: rgba(40, 44, 54, 1);
                z-index: 2;
                top: 0;
                left: 0;
                padding-top: 10px;
              "
            >
              <h2 style="margin: 0; padding-bottom: 10px">‚öΩ –ú–∞—Ç—á–∏</h2>
              <div style="display: flex; gap: 8px; align-items: center">
                <button
                  class="lucky-btn"
                  onclick="luckyBetForCurrentRound()"
                  title="–°–¥–µ–ª–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç–∞–≤–∫—É –ø–æ –≤—Å–µ–º –º–∞—Ç—á–∞–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—É—Ä–∞"
                >
                  üé≤ –ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç
                </button>
                <button
                  id="addMatchBtn"
                  onclick="openCreateMatchModal()"
                  style="
                    display: none;
                    padding: 3px 7px;
                    font-size: 0.9em;
                    background: transparent;
                  "
                >
                  ‚ûï –ú–∞—Ç—á
                </button>
                <button
                  id="importMatchesBtn"
                  onclick="openImportMatchesModal()"
                  style="
                    display: none;
                    padding: 3px 7px;
                    font-size: 0.9em;
                    /* background: rgba(76, 175, 80, 0.7); */
                    background: transparent;
                    border: 1px solid #4caf50;
                  "
                >
                  üì•–∏–º–ø–æ—Ä—Ç
                </button>
              </div>
            </div>
            <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç—É—Ä–∞–º -->
            <div
              id="roundsFilterContainer"
              style="
                display: none;
                margin-bottom: 5px;
                padding: 5px 0;
                border-bottom: 1px solid rgba(90, 159, 212, 0.3);
                position: sticky;
                top: 0;
                background: rgba(40, 44, 54, 0.5);
                z-index: 1;
              "
            >
              <div
                style="
                  display: flex;
                  flex-wrap: wrap;
                  gap: 8px;
                  align-items: center;
                "
              >
                <button
                  class="round-filter-btn active"
                  data-round="all"
                  onclick="filterByRound('all')"
                >
                  –í—Å–µ
                </button>
              </div>
            </div>
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –º–∞—Ç—á–∞–º–∏ -->
            <div id="matchesContainer">
              <div class="empty-message">
                –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–∞—Ç—á–µ–π
              </div>
            </div>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ú–æ–∏ —Å—Ç–∞–≤–∫–∏ -->
        <div>
          <div class="section bet-section">
            <h2 class="my-bets-title">üí∞ –ú–æ–∏ —Å—Ç–∞–≤–∫–∏</h2>
            <div class="my-bets-list" id="myBetsList">
              <div class="empty-message">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç–∞–≤–æ–∫</div>
            </div>
          </div>
        </div>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –¢–∞–±–ª–∏—Ü–∞ -->
      <div
        class="content"
        id="participants-content"
        style="display: none; margin-top: -5px"
      >
        <div class="section" id="tournamentsSection">
          <h2>üèÜ –¢—É—Ä–Ω–∏—Ä—ã</h2>
          <div class="events-grid" id="eventsGrid">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç—É—Ä–Ω–∏—Ä—ã...</div>
          </div>
        </div>

        <div class="section" id="tournamentSection" style="display: none">
          <h2 id="tournamentTitle">üìã –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞</h2>
          <div class="participants-list" id="tournamentParticipantsList">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</div>
          </div>
          <button
            id="backToTournaments"
            class="btn-back"
            style="margin-top: 20px"
            onclick="backToTournaments()"
          >
            ‚Üê –ù–∞–∑–∞–¥ –∫ —Ç—É—Ä–Ω–∏—Ä–∞–º
          </button>
        </div>

        <div class="section">
          <h2>üë• –¢–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤(–∑–∞ –≤—Å—ë –≤—Ä–µ–º—è)</h2>
          <div class="participants-list" id="participantsList">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</div>
          </div>
        </div>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –ü—Ä–æ—Ñ–∏–ª—å -->
      <div
        class="content"
        id="profile-content"
        style="display: none; margin-top: -5px"
      >
        <div class="section">
          <h2>üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
          <div class="profile-container" id="profileContainer">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å...</div>
          </div>
        </div>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <div
        class="content"
        id="settings-content"
        style="display: none; margin-top: -5px"
      >
        <div class="section">
          <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <div class="settings-container" id="settingsContainer">
            <div class="empty-message">–ó–¥–µ—Å—å –±—É–¥—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
          </div>

          <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö -->
          <div id="adminSettingsPanel" style="display: none; margin-top: 20px">
            <h3 style="margin-bottom: 15px; color: #5a9fd4">üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
            <button
              onclick="clearLogs()"
              style="
                background: rgba(244, 67, 54, 0.7);
                color: #ffb3b3;
                border: 1px solid #f44336;
                padding: 12px 24px;
                border-radius: 8px;
                cursor: pointer;
                font-size: 1em;
                transition: all 0.3s ease;
              "
              onmouseover="this.style.transform='scale(1.05)'"
              onmouseout="this.style.transform='scale(1)'"
            >
              üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
            </button>
            <a
              href="/log.html"
              target="_blank"
              style="
                display: inline-block;
                margin-left: 10px;
                background: rgba(90, 159, 212, 0.7);
                color: #e0e6f0;
                text-decoration: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-size: 1em;
                transition: all 0.3s ease;
                border: 1px solid #3a7bd5;
              "
              onmouseover="this.style.transform='scale(1.05)'"
              onmouseout="this.style.transform='scale(1)'"
            >
              üìã –û—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏
            </a>
            <a
              id="notificationsQueueLink"
              href="/admin/notifications"
              target="_blank"
              style="
                display: inline-block;
                margin-left: 10px;
                background: rgba(90, 159, 212, 0.7);
                color: #e0e6f0;
                text-decoration: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-size: 1em;
                transition: all 0.3s ease;
                border: 1px solid #3a7bd5;
              "
              onmouseover="this.style.transform='scale(1.05)'"
              onmouseout="this.style.transform='scale(1)'"
            >
              –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—å—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            </a>
            <button
              id="adminUsersBtn"
              onclick="loadAdminUsers()"
              style="
                margin-left: 10px;
                background: rgba(58, 123, 213, 0.8);
                color: #e0e6f0;
                border: 1px solid #3a7bd5;
                padding: 12px 24px;
                border-radius: 8px;
                cursor: pointer;
                font-size: 1em;
                transition: all 0.3s ease;
              "
              onmouseover="this.style.transform='scale(1.05)'"
              onmouseout="this.style.transform='scale(1)'"
            >
              üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
            </button>
          </div>
        </div>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –ü–æ–¥—Å—á–µ—Ç -->
      <div
        class="content"
        id="counting-content"
        style="display: none; margin-top: -5px"
      >
        <div class="section">
          <h2>üìä –ü–æ–¥—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
          <div class="counting-container" id="countingContainer">
            <div class="empty-message">–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
    <div id="adminModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
          <button class="modal-close" onclick="closeAdminModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div id="adminUsersList" class="admin-users-list">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞ -->
    <div id="createEventModal" class="modal" style="display: none">
      <div class="modal-content" style="max-width: 500px">
        <div class="modal-header">
          <h2>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä</h2>
          <button class="modal-close" onclick="closeCreateEventModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="createEventForm" onsubmit="submitCreateEvent(event)">
            <div class="form-group">
              <label for="eventName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ *</label>
              <input
                type="text"
                id="eventName"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞ 2026"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="eventDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea
                id="eventDescription"
                placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
                rows="2"
                style="width: 100%; padding: 8px; font-size: 0.95em"
              ></textarea>
            </div>
            <div
              style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px"
            >
              <div class="form-group" style="margin: 0">
                <label for="eventDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
                <input
                  type="date"
                  id="eventDate"
                  style="
                    width: 100%;
                    padding: 6px;
                    font-size: 0.85em;
                    height: 30px;
                    height: auto;
                  "
                />
              </div>
              <div class="form-group" style="margin: 0">
                <label for="eventEndDate">–î–∞—Ç–∞ –∫–æ–Ω—Ü–∞</label>
                <input
                  type="date"
                  id="eventEndDate"
                  style="
                    width: 100%;
                    padding: 6px;
                    font-size: 0.85em;
                    height: 30px;
                    height: auto;
                  "
                />
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="form-btn-submit">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeCreateEventModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ç—á–∞ -->
    <div id="createMatchModal" class="modal" style="display: none">
      <div class="modal-content" style="max-width: 500px">
        <div class="modal-header">
          <h2>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Ç—á</h2>
          <button class="modal-close" onclick="closeCreateMatchModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="createMatchForm" onsubmit="submitCreateMatch(event)">
            <div class="form-group">
              <label for="matchTeam1">–ö–æ–º–∞–Ω–¥–∞ 1 *</label>
              <input
                type="text"
                id="matchTeam1"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Manchester United"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="matchTeam2">–ö–æ–º–∞–Ω–¥–∞ 2 *</label>
              <input
                type="text"
                id="matchTeam2"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Liverpool FC"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="matchDate">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –º–∞—Ç—á–∞</label>
              <input
                type="datetime-local"
                id="matchDate"
                style="
                  width: 40%;
                  padding: 6px;
                  font-size: 0.85em;
                  padding: 12px 15px;
                  border: 2px solid #e9ecef;
                  border-radius: 5px;
                  transition: all 0.3s ease;
                "
              />
            </div>
            <div class="form-group">
              <label for="matchRound">–¢—É—Ä / –ì—Ä—É–ø–ø–∞ / –°—Ç–∞–¥–∏—è</label>
              <input
                type="text"
                id="matchRound"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—É—Ä 5, –ì—Ä—É–ø–ø–∞ A, 1/8 —Ñ–∏–Ω–∞–ª–∞"
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="matchCopies">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ø–∏–π</label>
              <input
                type="number"
                id="matchCopies"
                min="1"
                max="20"
                value="1"
                style="
                  width: 80px;
                  padding: 8px;
                  font-size: 0.95em;
                  text-align: center;
                "
              />
              <span style="color: #b0b8c8; font-size: 0.85em; margin-left: 10px"
                >–°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–∞—Ç—á–µ–π</span
              >
            </div>

            <!-- –ß–µ–∫–±–æ–∫—Å —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Ç—á–∞ -->
            <div class="form-group">
              <label style="display: flex; align-items: center; gap: 8px">
                <input
                  type="checkbox"
                  id="matchIsFinal"
                  onchange="toggleFinalMatch('create')"
                  style="cursor: pointer; width: auto"
                />
                <span>üèÜ –§–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Ç—á</span>
              </label>
              <span
                style="
                  color: #b0b8c8;
                  font-size: 0.85em;
                  margin-left: 26px;
                  display: block;
                  margin-top: 4px;
                "
                >–û—Ç–∫–ª—é—á–∏—Ç—å –≤–≤–æ–¥ —Ç—É—Ä–∞ –∏ –≤–∫–ª—é—á–∏—Ç—å –¥–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</span
              >
            </div>

            <!-- –î–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Ç—á–∞ -->
            <div
              id="finalMatchParamsCreate"
              style="
                display: none;
                background: rgba(58, 123, 213, 0.1);
                padding: 12px;
                border-radius: 4px;
                margin-bottom: 10px;
              "
            >
              <p
                style="
                  color: #7ab0e0;
                  font-size: 0.9em;
                  margin: 0 0 10px 0;
                  font-weight: 500;
                "
              >
                –í–∫–ª—é—á–∏—Ç—å –¥–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
              </p>
              <div
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px"
              >
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showExactScore"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üìä –¢–æ—á–Ω—ã–π —Å—á–µ—Ç</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showYellowCards"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üü® –ñ–µ–ª—Ç—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showRedCards"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üü• –ö—Ä–∞—Å–Ω—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showCorners"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –£–≥–ª–æ–≤—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showPenaltiesInGame"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –ü–µ–Ω–∞–ª—å—Ç–∏ –≤ –∏–≥—Ä–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showExtraTime"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚è±Ô∏è –î–æ–ø. –≤—Ä–µ–º—è</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="showPenaltiesAtEnd"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –ü–µ–Ω–∞–ª—å—Ç–∏ –≤ –∫–æ–Ω—Ü–µ</span>
                </label>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="form-btn-submit">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeCreateMatchModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –º–∞—Ç—á–µ–π -->
    <div id="importMatchesModal" class="modal" style="display: none">
      <div class="modal-content" style="max-width: 600px">
        <div class="modal-header">
          <h2>üì• –ò–º–ø–æ—Ä—Ç –º–∞—Ç—á–µ–π</h2>
          <button class="modal-close" onclick="closeImportMatchesModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="importMatchesForm" onsubmit="submitImportMatches(event)">
            <div class="form-group">
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  cursor: pointer;
                "
              >
                <input
                  type="checkbox"
                  id="importIncludeDate"
                  checked
                  style="width: 18px; height: 18px; cursor: pointer"
                />
                <span>–í–∫–ª—é—á–∏—Ç—å –¥–∞—Ç—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ</span>
              </label>
            </div>
            <div class="form-group">
              <label>–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:</label>
              <textarea
                id="importMatchesData"
                placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –º–∞—Ç—á–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:&#10;–ö–æ–º–∞–Ω–¥–∞1 \ –ö–æ–º–∞–Ω–¥–∞2 | –î–∞—Ç–∞ (–î–î.–ú–ú.YYYY –ß–ß:MM) | –¢—É—Ä&#10;&#10;–ü—Ä–∏–º–µ—Ä:&#10;Manchester \ Liverpool | 20.12.2025 18:00 | –¢—É—Ä 1&#10;Real Madrid \ Barcelona | 21.12.2025 20:00 | –¢—É—Ä 1"
                rows="10"
                required
                style="
                  width: 100%;
                  padding: 8px;
                  font-size: 0.9em;
                  font-family: monospace;
                  background: rgba(0, 0, 0, 0.3);
                  border: 1px solid #3a7bd5;
                  color: #e0e6f0;
                  border-radius: 4px;
                "
              ></textarea>
            </div>
            <div class="form-group">
              <label for="importEventId">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—É—Ä–Ω–∏—Ä *</label>
              <select
                id="importEventId"
                required
                style="
                  width: 100%;
                  padding: 8px;
                  font-size: 0.95em;
                  background: rgba(0, 0, 0, 0.3);
                  border: 1px solid #3a7bd5;
                  color: #e0e6f0;
                  border-radius: 4px;
                "
              >
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç—É—Ä–Ω–∏—Ä --</option>
              </select>
            </div>
            <div class="form-group" style="color: #b0b8c8; font-size: 0.85em">
              <p>
                <strong>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
              </p>
              <ul style="margin: 5px 0; padding-left: 20px">
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –º–∞—Ç—á–∏ –∏–∑ Google Docs</li>
                <li>
                  –ö–∞–∂–¥—ã–π –º–∞—Ç—á –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: <br />
                  <code style="background: rgba(0, 0, 0, 0.3); padding: 2px 5px"
                    >–ö–æ–º–∞–Ω–¥–∞1 \ –ö–æ–º–∞–Ω–¥–∞2 | –î–∞—Ç–∞ | –¢—É—Ä</code
                  >
                </li>
                <li>–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥: <strong>\</strong> (–æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à)</li>
                <li>–î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –î–î.–ú–ú.YYYY –ß–ß:MM (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω toggle)</li>
                <li>
                  –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ—Ç –∏–ª–∏ toggle –æ—Ç–∫–ª—é—á–µ–Ω, –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç–æ –ø–æ—Å–ª–µ |
                </li>
              </ul>
            </div>
            <div class="form-actions">
              <button type="submit" class="form-btn-submit">
                ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
              </button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeImportMatchesModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ç—á–∞ -->
    <div id="editMatchModal" class="modal" style="display: none">
      <div class="modal-content" style="max-width: 500px">
        <div class="modal-header">
          <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç—á</h2>
          <button class="modal-close" onclick="closeEditMatchModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form onsubmit="submitEditMatch(event)">
            <input type="hidden" id="editMatchId" />
            <div class="form-group">
              <label for="editMatchTeam1">–ö–æ–º–∞–Ω–¥–∞ 1 *</label>
              <input
                type="text"
                id="editMatchTeam1"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="editMatchTeam2">–ö–æ–º–∞–Ω–¥–∞ 2 *</label>
              <input
                type="text"
                id="editMatchTeam2"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="editMatchDate">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –º–∞—Ç—á–∞</label>
              <input
                type="datetime-local"
                id="editMatchDate"
                style="
                  width: 40%;
                  padding: 6px;
                  font-size: 0.85em;
                  height: 30px;
                "
              />
            </div>
            <div class="form-group">
              <label for="editMatchRound">–¢—É—Ä / –ì—Ä—É–ø–ø–∞ / –°—Ç–∞–¥–∏—è</label>
              <input
                type="text"
                id="editMatchRound"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—É—Ä 5, –ì—Ä—É–ø–ø–∞ A, 1/8 —Ñ–∏–Ω–∞–ª–∞"
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>

            <!-- –ß–µ–∫–±–æ–∫—Å —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Ç—á–∞ -->
            <div class="form-group">
              <label style="display: flex; align-items: center; gap: 8px">
                <input
                  type="checkbox"
                  id="editMatchIsFinal"
                  onchange="toggleFinalMatch('edit')"
                  style="cursor: pointer; width: auto"
                />
                <span>üèÜ –§–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Ç—á</span>
              </label>
              <span
                style="
                  color: #b0b8c8;
                  font-size: 0.85em;
                  margin-left: 26px;
                  display: block;
                  margin-top: 4px;
                "
                >–û—Ç–∫–ª—é—á–∏—Ç—å –≤–≤–æ–¥ —Ç—É—Ä–∞ –∏ –≤–∫–ª—é—á–∏—Ç—å –¥–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</span
              >
            </div>

            <!-- –î–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Ç—á–∞ -->
            <div
              id="finalMatchParamsEdit"
              style="
                display: none;
                background: rgba(58, 123, 213, 0.1);
                padding: 12px;
                border-radius: 4px;
                margin-bottom: 10px;
              "
            >
              <p
                style="
                  color: #7ab0e0;
                  font-size: 0.9em;
                  margin: 0 0 10px 0;
                  font-weight: 500;
                "
              >
                –í–∫–ª—é—á–∏—Ç—å –¥–æ–ø –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
              </p>
              <div
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px"
              >
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowExactScore"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üìä –¢–æ—á–Ω—ã–π —Å—á–µ—Ç</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowYellowCards"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üü® –ñ–µ–ª—Ç—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowRedCards"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">üü• –ö—Ä–∞—Å–Ω—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowCorners"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –£–≥–ª–æ–≤—ã–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowPenaltiesInGame"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –ü–µ–Ω–∞–ª—å—Ç–∏ –≤ –∏–≥—Ä–µ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowExtraTime"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚è±Ô∏è –î–æ–ø. –≤—Ä–µ–º—è</span>
                </label>
                <label style="display: flex; align-items: center; gap: 6px">
                  <input
                    type="checkbox"
                    id="editShowPenaltiesAtEnd"
                    style="cursor: pointer; width: auto"
                  />
                  <span style="font-size: 0.9em">‚öΩ –ü–µ–Ω–∞–ª—å—Ç–∏ –≤ –∫–æ–Ω—Ü–µ</span>
                </label>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="form-btn-submit">
                ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
              </button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeEditMatchModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞ -->
    <div id="lockEventModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</h2>
          <button class="modal-close" onclick="closeLockEventModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="lockEventForm" onsubmit="submitLockEvent(event)">
            <div class="form-group">
              <label for="eventLockReason">–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ *</label>
              <textarea
                id="eventLockReason"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—É—Ä–Ω–∏—Ä –æ—Ç–º–µ–Ω—ë–Ω, –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –∏ —Ç.–¥."
                rows="3"
                required
              ></textarea>
            </div>
            <div class="form-actions">
              <button type="submit" class="form-btn-submit">
                ‚úÖ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
              </button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeLockEventModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞ -->
    <div id="editEventModal" class="modal" style="display: none">
      <div class="modal-content" style="max-width: 500px">
        <div class="modal-header">
          <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</h2>
          <button class="modal-close" onclick="closeEditEventModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="editEventForm" onsubmit="submitEditEvent(event)">
            <div class="form-group">
              <label for="editEventName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ *</label>
              <input
                type="text"
                id="editEventName"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞"
                required
                style="width: 100%; padding: 8px; font-size: 0.95em"
              />
            </div>
            <div class="form-group">
              <label for="editEventDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea
                id="editEventDescription"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
                rows="2"
                style="width: 100%; padding: 8px; font-size: 0.95em"
              ></textarea>
            </div>
            <div
              style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px"
            >
              <div class="form-group" style="margin: 0">
                <label for="editEventStartDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
                <input
                  type="date"
                  id="editEventStartDate"
                  style="
                    width: 100%;
                    padding: 6px;
                    font-size: 0.85em;
                    height: 30px;
                    height: auto;
                  "
                />
              </div>
              <div class="form-group" style="margin: 0">
                <label for="editEventEndDate">–î–∞—Ç–∞ –∫–æ–Ω—Ü–∞</label>
                <input
                  type="date"
                  id="editEventEndDate"
                  style="
                    width: 100%;
                    padding: 6px;
                    font-size: 0.85em;
                    height: 30px;
                    height: auto;
                  "
                />
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="form-btn-submit">
                ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
              </button>
              <button
                type="button"
                class="form-btn-cancel"
                onclick="closeEditEventModal()"
              >
                ‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –î–∏—Å–∫–ª–µ–π–º–µ—Ä -->
    <footer
      style="
        margin-top: 40px;
        padding: 20px;
        background: rgba(30, 34, 44, 0.85);
        border-top: 1px solid rgba(76, 175, 80, 0.3);
        text-align: center;
        color: #b0b8c8;
        font-size: 0.85em;
        display: none;
      "
    >
      <p style="margin: 8px 0; color: #ffb74d">
        ‚ö†Ô∏è <strong>–í–ù–ò–ú–ê–ù–ò–ï: –§–ê–ù–ê–¢–°–ö–ò–ô –°–ê–ô–¢ –ë–ï–ó –ü–†–ò–Å–ú–ê –î–ï–ù–ï–ì</strong>
      </p>
      <p style="margin: 8px 0">
        –≠—Ç–æ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π —Ñ–∞–Ω–∞—Ç—Å–∫–∏–π —Å–∞–π—Ç. –ü—Ä–∏—ë–º –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –ù–ï
        –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è. –í—Å–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö
        —Ü–µ–ª—è—Ö.
      </p>
      <p style="margin: 8px 0; opacity: 0.7">
        ¬© 2025 1xBetLineBoom. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
      </p>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —Ç—É—Ä–æ–≤ -->
    <div
      id="roundsOrderModal"
      class="rounds-order-modal"
      onclick="closeRoundsOrderModal(event)"
    >
      <div class="rounds-order-content" onclick="event.stopPropagation()">
        <h3>üìã –ü–æ—Ä—è–¥–æ–∫ —Ç—É—Ä–æ–≤</h3>
        <ul id="roundsOrderList" class="rounds-order-list">
          <!-- –¢—É—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </ul>
        <div class="rounds-order-buttons">
          <button class="cancel-btn" onclick="closeRoundsOrderModal()">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button class="save-btn" onclick="saveRoundsOrder()">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
          </button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ñ–∏–Ω–∞–ª–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
    <div
      id="finalMatchResultModal"
      class="modal"
      onclick="closeFinalMatchResultModal(event)"
    >
      <div
        class="modal-content finalMatchResultWindow"
        onclick="event.stopPropagation()"
      >
        <h3>üìù –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–Ω–∞–ª–∞ üèÜ</h3>

        <div style="margin-bottom: 20px">
          <h4 style="margin-bottom: 10px; color: #7ab0e0">–†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç—á–∞</h4>
          <div
            id="finalResultButtonsContainer"
            style="display: flex; gap: 10px"
          >
            <!-- –ö–Ω–æ–ø–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–º–∞–Ω–¥ -->
          </div>
        </div>

        <div id="finalParametersContainer" style="margin-bottom: 20px">
          <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <div style="display: flex; gap: 10px">
          <button
            class="cancel-btn"
            onclick="closeFinalMatchResultModal()"
            style="flex: 1"
          >
            –û—Ç–º–µ–Ω–∞
          </button>
          <button
            class="save-btn"
            onclick="saveFinalMatchResult()"
            style="flex: 1"
          >
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
          </button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞ -->
    <div
      id="avatarModal"
      class="modal"
      style="display: none"
      onclick="closeAvatarModal(event)"
    >
      <div
        class="modal-content"
        style="max-width: 90vw; max-height: 85vh; display: flex; flex-direction: column"
        onclick="event.stopPropagation()"
      >
        <div class="modal-header">
          <h3>üì∏ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤–∞—Ç–∞—Ä</h3>
          <button class="modal-close" onclick="closeAvatarModal()">√ó</button>
        </div>
        <div class="modal-body" style="display: flex; gap: 20px; flex: 1; overflow: hidden">
          <!-- Left Column: Upload and Controls -->
          <div style="flex: 0 0 250px; display: flex; flex-direction: column; gap: 15px; overflow-y: auto">
            <div>
              <label
                for="avatarInput"
                style="display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px"
              >
                –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
              </label>
              <input
                type="file"
                id="avatarInput"
                accept="image/*,.gif"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px"
              />
            </div>

            <!-- PNG Cropper Container -->
            <div id="cropperContainer" style="display: none">
              <label style="display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px">
                üìê –ö–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ:
              </label>
              <div style="max-height: 300px; overflow: auto; border: 1px solid #ddd; border-radius: 4px">
                <img
                  id="avatarImage"
                  src=""
                  alt="Avatar preview"
                  style="width: 100%; display: block"
                />
              </div>
            </div>
          </div>

          <!-- Center Column: GIF Preview with Selection -->
          <div id="gifPreviewColumn" style="flex: 1; display: none; border: 1px solid #ddd; border-radius: 4px; position: relative; overflow: auto; background: #f9f9f9;">
            <div style="position: relative; display: inline-block;">
              <img
                id="gifFullPreview"
                src=""
                alt="Full GIF preview"
                style="display: block; max-width: 100%; height: auto;"
              />
              <!-- Selection overlay (200x200 –∫–≤–∞–¥—Ä–∞—Ç) -->
              <div
                id="gifSelectionBox"
                style="
                  position: absolute;
                  width: 200px;
                  height: 200px;
                  border: 3px solid #2196f3;
                  box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.5);
                  cursor: move;
                  z-index: 10;
                  user-select: none;
                  top: 0;
                  left: 0;
                "
              ></div>
            </div>
          </div>

          <!-- Right Column: Result Preview -->
          <div style="flex: 0 0 200px; display: flex; flex-direction: column; gap: 10px">
            <label style="display: block; margin-bottom: 0; font-weight: 600; font-size: 14px">
              ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç:
            </label>
            <div
              id="gifResultPreview"
              style="
                width: 200px;
                height: 200px;
                border: 2px solid #4caf50;
                overflow: hidden;
                position: relative;
                background: #f0f0f0;
                border-radius: 4px;
              "
            >
              <img
                id="gifCropResult"
                src=""
                alt="Cropped GIF preview"
                style="
                  position: absolute;
                  width: 100%;
                  height: 100%;
                  object-fit: none;
                "
              />
            </div>
            <div id="pngPreviewContainer" style="display: none">
              <label style="display: block; margin-bottom: 0; font-weight: 600; font-size: 14px">
                ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç:
              </label>
              <div
                style="
                  width: 200px;
                  height: 200px;
                  border: 2px solid #4caf50;
                  overflow: hidden;
                  position: relative;
                  background: #f0f0f0;
                  border-radius: 4px;
                "
              >
                <div id="pngPreviewBox" style="width: 100%; height: 100%; background: #f0f0f0"></div>
              </div>
            </div>
          </div>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee">
            <button
              class="cancel-btn"
              onclick="closeAvatarModal()"
              style="flex: 1"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button
              class="save-btn"
              id="savAvatarBtn"
              onclick="saveAvatar()"
              style="flex: 1; display: none"
            >
              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
            <button
              class="cancel-btn"
              id="deleteAvatarBtn"
              onclick="deleteAvatar()"
              style="flex: 1; background: #d32f2f"
            >
              üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Tournament Participant Bets -->
    <div id="tournamentParticipantBetsModal" class="modal" style="display: none" onclick="if(event.target.id === 'tournamentParticipantBetsModal') closeTournamentParticipantBetsModal()">
      <div class="modal-content" style="max-width: 900px">
        <div class="modal-header">
          <h2 id="tournamentParticipantBetsTitle">üìä –°—Ç–∞–≤–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞</h2>
          <button class="modal-close" onclick="closeTournamentParticipantBetsModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div id="tournamentRoundsFilter" style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
          </div>
          <div id="tournamentParticipantBetsList" style="max-height: 500px; overflow-y: auto;">
            <div class="empty-message">–ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞–≤–∫–∏...</div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script src="js/index.js"></script>
  </body>
</html>
